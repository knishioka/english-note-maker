# 機能要件書 - 英語罫線ノート作成アプリ

## 1. プロダクトビジョン

### 1.1 ミッション
子どもたちが楽しく美しい英語を書けるようになるための、使いやすい練習ノート作成ツールを提供する。

### 1.2 ターゲットユーザー
- **主要ユーザー**: 小学校の英語教師
- **副次ユーザー**: 保護者、英語教室講師
- **最終利用者**: 4〜12歳の子ども

### 1.3 解決する課題
- 市販の英語ノートは画一的で個別対応が難しい
- 手書きで罫線を引くのは時間がかかる
- 年齢に応じた例文を探すのが大変
- 印刷設定が複雑で失敗しやすい

## 2. 機能要件

### 2.1 必須機能（MVP）

#### F-001: 4本線罫線生成
**説明**: アルファベット練習に適した4本線を自動生成
**詳細**:
- 線の比率: 5:6:5（上部:中央:下部）
- ベースライン（3本目）を強調表示
- 線の種類: 上下は実線、中間は点線

#### F-002: A4印刷最適化
**説明**: A4用紙に最適化されたレイアウトで印刷
**詳細**:
- 余白: 全方向10mm
- 1ページに収まる設計
- ブラウザネイティブ印刷機能使用

#### F-003: 練習モード切り替え
**説明**: 用途に応じた2つのモードを提供
**詳細**:
- 通常練習: 罫線のみ（16行）
- 文章練習: 例文付き（15行）

#### F-004: 年齢別例文表示
**説明**: 年齢に応じた適切な例文を表示
**詳細**:
- 4-6歳: ひらがな中心、簡単な文
- 7-9歳: 基本的な文、学校生活
- 10-12歳: 複雑な文、抽象概念

### 2.2 重要機能

#### F-005: 日本語訳表示制御
**説明**: 例文の日本語訳の表示/非表示を切り替え
**詳細**:
- 例文は固定したまま訳のみ切り替え
- レイアウトを維持

#### F-006: 例文更新機能
**説明**: 新しい例文セットを取得
**詳細**:
- ランダムに異なる例文を選択
- 年齢グループ内から選択

### 2.3 追加機能（将来実装）

#### F-007: カスタマイズ機能
- 罫線の高さ調整
- 罫線の色選択
- ページレイアウトオプション

#### F-008: 保存・共有機能
- 設定の保存
- PDFダウンロード
- URL共有

#### F-009: 拡張コンテンツ
- 例文カテゴリー
- 単語練習モード
- カスタム例文入力

## 3. 非機能要件

### 3.1 パフォーマンス要件

#### NFR-001: 応答速度
- ページ初期表示: 2秒以内
- モード切り替え: 0.5秒以内
- 印刷プレビュー生成: 1秒以内

#### NFR-002: リソース使用
- メモリ使用量: 50MB以下
- ネットワーク通信: 不要（オフライン動作）

### 3.2 互換性要件

#### NFR-003: ブラウザサポート
- Chrome 90以上
- Firefox 88以上
- Safari 14以上
- Edge 90以上

#### NFR-004: デバイスサポート
- デスクトップ: フル機能
- タブレット: 閲覧のみ
- スマートフォン: 非推奨

### 3.3 ユーザビリティ要件

#### NFR-005: 学習曲線
- 初回使用者が5分以内に印刷完了
- 説明書なしで基本操作可能

#### NFR-006: エラー処理
- エラーメッセージは日本語で表示
- 復旧方法を明示

### 3.4 品質要件

#### NFR-007: 印刷品質
- 300DPI相当の品質
- 罫線の鮮明さ保証
- 文字の読みやすさ確保

#### NFR-008: 信頼性
- 99%以上の成功率
- データ消失なし

## 4. 制約事項

### 4.1 技術的制約
- フロントエンドのみで実装
- 外部ライブラリ最小限
- サーバーレスアーキテクチャ

### 4.2 リソース制約
- 開発期間: 3ヶ月
- 保守: 月1回のアップデート
- コスト: 無料提供

## 5. 成功基準

### 5.1 定量的基準
- 月間アクティブユーザー: 1,000人
- 印刷成功率: 95%以上
- ページ読み込み時間: 2秒以内
- ユーザー満足度: 4.0/5.0以上

### 5.2 定性的基準
- 教師からの推薦獲得
- 子どもの英語学習意欲向上
- 保護者からの肯定的フィードバック

## 6. リスクと対策

### 6.1 技術的リスク
| リスク | 影響度 | 発生確率 | 対策 |
|--------|--------|----------|------|
| ブラウザ印刷機能の差異 | 高 | 中 | 各ブラウザでのテスト強化 |
| フォント表示の不統一 | 中 | 高 | Webフォントの採用検討 |
| メモリ不足 | 低 | 低 | ページ数制限の実装 |

### 6.2 ユーザビリティリスク
| リスク | 影響度 | 発生確率 | 対策 |
|--------|--------|----------|------|
| 操作が複雑 | 高 | 低 | UIの継続的改善 |
| 例文が不適切 | 中 | 低 | 教育専門家のレビュー |
| 印刷失敗 | 高 | 中 | 詳細な印刷ガイド提供 |

## 7. 将来の拡張性

### 7.1 機能拡張の方向性
1. **コンテンツ拡充**
   - より多様な例文
   - 文法説明の追加
   - 音声機能

2. **カスタマイズ強化**
   - 個人設定の保存
   - テンプレート機能
   - テーマ選択

3. **学習支援機能**
   - 進捗トラッキング
   - 成績記録
   - 推奨練習提案

### 7.2 技術的拡張
1. **PWA化**
   - オフライン完全対応
   - インストール可能
   - プッシュ通知

2. **API連携**
   - 例文データベース
   - 翻訳API
   - 音声合成API

## 8. 用語定義

| 用語 | 定義 |
|------|------|
| 4本線 | アルファベット練習用の4本の横線（上線、中線上、中線下、下線） |
| ベースライン | 小文字の基準となる線（3本目の線） |
| 罫線グループ | 4本線1セットの単位 |
| 例文 | 練習用の英語文と日本語訳のペア |
| 練習モード | 通常練習と文章練習の2種類の表示形式 |