<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°åˆ·ä½™ç™½ãƒ†ã‚¹ãƒˆ - è‹±èªç½«ç·šãƒãƒ¼ãƒˆ</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
      /* ãƒ†ã‚¹ãƒˆç”¨ã®è¿½åŠ ã‚¹ã‚¿ã‚¤ãƒ« */
      .test-info {
        position: fixed;
        top: 10px;
        right: 10px;
        background: yellow;
        padding: 10px;
        border: 2px solid red;
        z-index: 1000;
        font-weight: bold;
      }

      @media print {
        .test-info {
          display: none !important;
        }
      }

      /* ä½™ç™½ã‚’å¯è¦–åŒ–ã™ã‚‹ãŸã‚ã®æ ç·š */
      .note-page {
        border: 2px dashed red !important;
      }

      .margin-indicator {
        position: absolute;
        background: rgba(255, 0, 0, 0.1);
        pointer-events: none;
      }

      .margin-indicator.top {
        top: 0;
        left: 0;
        right: 0;
        height: 5mm;
      }

      .margin-indicator.bottom {
        bottom: 0;
        left: 0;
        right: 0;
        height: 5mm;
      }

      .margin-indicator.left {
        top: 0;
        left: 0;
        bottom: 0;
        width: 10mm;
      }

      .margin-indicator.right {
        top: 0;
        right: 0;
        bottom: 0;
        width: 10mm;
      }

      @media print {
        .margin-indicator {
          display: block !important;
          background: rgba(255, 0, 0, 0.05);
        }
      }
    </style>
  </head>
  <body>
    <div class="test-info no-print">
      ğŸ” å°åˆ·ä½™ç™½ãƒ†ã‚¹ãƒˆãƒšãƒ¼ã‚¸<br>
      èµ¤ã„æ ç·š = ãƒšãƒ¼ã‚¸å¢ƒç•Œ<br>
      è–„èµ¤è‰² = ä½™ç™½é ˜åŸŸ<br>
      Ctrl+P ã§å°åˆ·ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ç¢ºèª
    </div>

    <div class="main">
      <div class="preview">
        <div id="notePreview" class="note-preview">
          <div class="note-page">
            <!-- ä½™ç™½ã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ -->
            <div class="margin-indicator top"></div>
            <div class="margin-indicator bottom"></div>
            <div class="margin-indicator left"></div>
            <div class="margin-indicator right"></div>

            <div class="practice-title">å°åˆ·ä½™ç™½ãƒ†ã‚¹ãƒˆ - ãƒ•ãƒ¬ãƒ¼ã‚ºç·´ç¿’</div>

            <!-- ãƒ†ã‚¹ãƒˆç”¨ã®ãƒ•ãƒ¬ãƒ¼ã‚º -->
            <div class="phrase-practice">
              <div class="phrase-item">
                <div class="phrase-header">
                  <div class="phrase-main">
                    <div class="phrase-english">Good morning!</div>
                    <div class="phrase-japanese">ãŠã¯ã‚ˆã†ï¼</div>
                  </div>
                  <div class="phrase-situation">æŒ¨æ‹¶</div>
                </div>
                <div class="phrase-lines">
                  <div class="baseline-group">
                    <div class="baseline baseline--top"></div>
                    <div class="baseline baseline--upper"></div>
                    <div class="baseline baseline--lower"></div>
                    <div class="baseline baseline--bottom"></div>
                  </div>
                  <div class="baseline-group">
                    <div class="baseline baseline--top"></div>
                    <div class="baseline baseline--upper"></div>
                    <div class="baseline baseline--lower"></div>
                    <div class="baseline baseline--bottom"></div>
                  </div>
                </div>
              </div>

              <div class="phrase-item">
                <div class="phrase-header">
                  <div class="phrase-main">
                    <div class="phrase-english">Thank you very much!</div>
                    <div class="phrase-japanese">æœ¬å½“ã«ã‚ã‚ŠãŒã¨ã†ï¼</div>
                  </div>
                  <div class="phrase-situation">æ„Ÿè¬</div>
                </div>
                <div class="phrase-lines">
                  <div class="baseline-group">
                    <div class="baseline baseline--top"></div>
                    <div class="baseline baseline--upper"></div>
                    <div class="baseline baseline--lower"></div>
                    <div class="baseline baseline--bottom"></div>
                  </div>
                  <div class="baseline-group">
                    <div class="baseline baseline--top"></div>
                    <div class="baseline baseline--upper"></div>
                    <div class="baseline baseline--lower"></div>
                    <div class="baseline baseline--bottom"></div>
                  </div>
                </div>
              </div>

              <div class="phrase-item">
                <div class="phrase-header">
                  <div class="phrase-main">
                    <div class="phrase-english">How are you?</div>
                    <div class="phrase-japanese">å…ƒæ°—ã§ã™ã‹ï¼Ÿ</div>
                  </div>
                  <div class="phrase-situation">æŒ¨æ‹¶</div>
                </div>
                <div class="phrase-lines">
                  <div class="baseline-group">
                    <div class="baseline baseline--top"></div>
                    <div class="baseline baseline--upper"></div>
                    <div class="baseline baseline--lower"></div>
                    <div class="baseline baseline--bottom"></div>
                  </div>
                  <div class="baseline-group">
                    <div class="baseline baseline--top"></div>
                    <div class="baseline baseline--upper"></div>
                    <div class="baseline baseline--lower"></div>
                    <div class="baseline baseline--bottom"></div>
                  </div>
                </div>
              </div>
            </div>

            <!-- A4ã‚µã‚¤ã‚ºã‚¤ãƒ³ã‚¸ã‚±ãƒ¼ã‚¿ãƒ¼ -->
            <div style="position: absolute; bottom: 10mm; left: 10mm; font-size: 8pt; color: red;" class="no-print">
              A4ã‚µã‚¤ã‚º: 210mm Ã— 297mm<br>
              è¨­å®šä½™ç™½: ä¸Šä¸‹5mm, å·¦å³10mm
            </div>
          </div>
        </div>
      </div>
    </div>

    <script>
      // å°åˆ·æ™‚ã®ä½™ç™½æ¸¬å®šã‚¹ã‚¯ãƒªãƒ—ãƒˆ
      function measurePrintMargins() {
        const notePage = document.querySelector('.note-page');
        if (!notePage) return;

        const style = window.getComputedStyle(notePage);
        const padding = {
          top: style.paddingTop,
          right: style.paddingRight,
          bottom: style.paddingBottom,
          left: style.paddingLeft,
        };

        console.log('=== å°åˆ·ä½™ç™½è¨­å®š ===');
        console.log('ä¸Šä½™ç™½:', padding.top);
        console.log('å³ä½™ç™½:', padding.right);
        console.log('ä¸‹ä½™ç™½:', padding.bottom);
        console.log('å·¦ä½™ç™½:', padding.left);

        // mmã«å¤‰æ›ï¼ˆ96dpiã‚’æƒ³å®šï¼‰
        const pxToMm = (px) => {
          const val = parseFloat(px);
          return (val * 25.4 / 96).toFixed(1) + 'mm';
        };

        console.log('=== mmå˜ä½ ===');
        console.log('ä¸Šä½™ç™½:', pxToMm(padding.top));
        console.log('å³ä½™ç™½:', pxToMm(padding.right));
        console.log('ä¸‹ä½™ç™½:', pxToMm(padding.bottom));
        console.log('å·¦ä½™ç™½:', pxToMm(padding.left));
      }

      // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«æ¸¬å®š
      window.addEventListener('load', measurePrintMargins);

      // å°åˆ·ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼é–‹å§‹æ™‚ã«æ¸¬å®š
      window.addEventListener('beforeprint', () => {
        console.log('ğŸ“„ å°åˆ·ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’é–‹å§‹ã—ã¾ã™...');
        measurePrintMargins();
      });

      // å°åˆ·ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼çµ‚äº†æ™‚
      window.addEventListener('afterprint', () => {
        console.log('ğŸ“„ å°åˆ·ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’çµ‚äº†ã—ã¾ã—ãŸ');
      });
    </script>
  </body>
</html>